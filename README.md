# Snake Drift Rush

Браузерная аркадная гонка змей (текущий этап: офлайн MVP + расширенная отладка).

## Текущее состояние

- Рендер и игровой цикл на `Phaser 3`.
- Переключаемые офлайн-режимы:
- `Классика`: `1 игрок + 3 NPC`.
- `Отладка`: `4 NPC` на автопилоте.
- Экраны: `Main Menu`, `Snake Select`, `Track Select`, `Race HUD`, `Results`.
- 3 уникальные трассы.
- 4 типа змей с разными характеристиками.
- 4 основных пикапа: `BOOST`, `SHIELD`, `OIL`, `BOMB`.
- Логика поверхности:
- `road` — обычное движение.
- `offroad` — заметное замедление (усилено).
- `outside` — сброс на последний чекпоинт + штраф по времени.
- Фазы заезда: `Countdown -> Running -> Finished`.
- Локальная таблица лучших времен по трассам (`localStorage`).

## Новые механики тела змеи

- У каждой змеи есть сегментированное тело.
- Тело извивается в движении.
- Для каждого типа змеи свой профиль извивки:
- разное число сегментов;
- разная амплитуда волны;
- разная частота и скорость волны;
- разная “толщина” хвоста.

## Дополнительные случайные объекты на трассе

- Добавлены рандомные `яблоки` и `кактусы`.
- Во время гонки они спавнятся в случайных точках на дороге и респавнятся после подбора.
- Эффект подбора:
- `яблоко` увеличивает длину тела;
- `кактус` уменьшает длину тела.
- Поведение NPC: по ходу движения NPC стараются подбирать `яблоки`, если они находятся впереди по траектории и в достижимом радиусе.

## Влияние длины тела на эффекты

- При увеличении тела усиливаются полезные бафы (например, `BOOST`).
- При уменьшении тела ослабляются вредные эффекты (`OIL`, `BOMB_SLOW`).
- Текущая длина тела отображается в HUD рядом с активным эффектом.

## Управление

- `W/A/S/D` или стрелки — движение (в режиме `Классика`).
- `R` — быстрый рестарт текущей трассы.

## Размер игрового окна

- Игровая область (`race-stage`) увеличена примерно до `80%` окна браузера (адаптивно).

## Как запустить

1. Открыть `index.html` в браузере.
2. Нажать `Play Offline`.
3. Выбрать режим (`Классика` или `Отладка`) и змею.
4. Нажать `Старт`.

## Правило по документации

- Все новые игровые механики и заметные изменения фиксируются в этом `README.md` сразу после реализации.
